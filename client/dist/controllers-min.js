"use strict";!function(){function e(e,s,t,o,a,d,n,r){var f=this,m=void 0;f.logout=function(e){f.dataLoading=!0,delete o.userSession,e?(a.emit("forceLogout",m.userObject.username),n.location.reload()):(s.show(s.simple().textContent("Bye")),a.emit("logout",m.userObject.username),n.location.reload())},f.sendMsg=function(){if(f.message){var e={from:o.userSession.username,message:f.message};a.emit("msg",e),f.messages.push(e),f.message="",r.$digest()}},a.on("welcome",function(e){s.show(s.simple().textContent(e+" has connected to the auction."))}),a.on("left",function(e){s.show(s.simple().textContent(e+" has disconnected from the auction."))}),a.on("alreadyLogged",function(){s.show(s.simple().textContent("This account has been logged in another place, so let's close this section.")),f.logout(!0)}),a.on("msg",function(e){f.messages.push(e),r.$digest()}),m=o.userSession,s.show(s.simple().textContent("Welcome "+m.userObject.username)),a.emit("login",m.userObject.username),f.messages=[{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"},{from:"teste",message:"sdfdfsdsdfdsdf"}],f.todo=[{name:"Create a custom directive",completed:!0},{name:"Learn about restrict",completed:!0},{name:"Master scopes",completed:!1}]}angular.module("app.home").controller("HomeController",e),e.$inject=["HomeService","$mdToast","$location","$rootScope","socket","$document","$window","$scope"]}(),function(){function e(e,s,t,o,a,d,n){var r=this;r.login=function(){r.dataLoading=!0;var f=angular.copy(r.userData);f.password=d.convertToSHA256(f.password);var m=n.encode(f.username+":"+f.password);s.login(m).then(function(s){"success"===s.data.status?(r.userSession=s.data.data,e.userSession=angular.copy(r.userSession),o.path("/home")):(t.show(t.simple().textContent(s.data.data.message)),10006===s.data.data.errorCode?(r.userData.password="",a[0].getElementById("passwordForm").focus()):(r.userData={},a[0].getElementById("usernameForm").focus()),r.dataLoading=!1)},function(e){t.show(t.simple().textContent("Status error: "+e.status+" - "+e.statusText)),r.userData={},a[0].getElementById("usernameForm").focus(),r.dataLoading=!1})},r.register=function(){o.path("/register")},r.dataLoading=!1}angular.module("app.login").controller("LoginController",e),e.$inject=["$rootScope","LoginService","$mdToast","$location","$document","sha256","$base64"]}(),function(){function e(e,s,t,o,a,d){var n=this;n.register=function(){if(n.dataLoading=!0,n.userData.password===n.userData.confirmPassword){var r=angular.copy(n.userData);delete r.confirmPassword,r.password=d.convertToSHA256(r.password),s.register({userData:r}).then(function(s){"success"===s.data.status?(t.show(t.simple().textContent("Account created successfully")),n.userSession=s.data.data,e.userSession=angular.copy(n.userSession),o.path("/home")):(t.show(t.simple().textContent(s.data.data.message)),n.userData={},a[0].getElementById("usernameForm").focus(),n.dataLoading=!1)},function(e){t.show(t.simple().textContent("Status error: "+e.status+" - "+e.statusText)),n.userData={},a[0].getElementById("usernameForm").focus(),n.dataLoading=!1})}else t.show(t.simple().textContent("The password confirmation doesn't match, please try again.")),n.userData.password="",n.userData.confirmPassword="",a[0].getElementById("passwordForm").focus(),n.dataLoading=!1},n.dataLoading=!1}angular.module("app.register").controller("RegisterController",e),e.$inject=["$rootScope","RegisterService","$mdToast","$location","$document","sha256"]}();